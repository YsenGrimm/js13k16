{"version":3,"sources":["webpack:///dist/game.js","webpack:///webpack/bootstrap 2642b92cb81136a7c71a","webpack:///./src/intro.ts","webpack:///./src/game.ts","webpack:///./src/player.ts","webpack:///./src/utils.ts","webpack:///./src/enemy.ts","webpack:///./src/scanline.ts"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","game_1","Game","player_1","enemy_1","scanline_1","utils_1","this","canvas","document","getElementById","ctx","getContext","w","h","bgColor","collisionOffset","layer","cells","players","Array","Player","enemies","enemyIds","i","push","Enemy","scanline","Scanline","update","bind","window","requestAnimationFrame","prototype","_this","length","Math","abs","realPos","scanlinePos","alpha","_loop_1","j","this_1","pos","axisPool","axis","angle","score","filter","e","draw","fillStyle","fillRect","drawBoard","render","font","fillText","toString","strokeStyle","minR","scaleR","beginPath","arc","PI","stroke","fill","drawDebugLines","slice","moveTo","lineTo","cos","Utils","deg2rad","sin","color","startAxis","gameWidth","gameHeigth","maxPos","minOffset","offset","size","width","height","handleInput","addEventListener","key","deg","getRandomInt","min","max","floor","random","getRandomArbitrary","maxLayer","speed","fade","fadeDelay","scanlineStart","scanlineEnd","scanlineSpeed","lineWidth"],"mappings":"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","file":"./dist/game.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar game_1 = __webpack_require__(1);\n\tvar gameStart = new game_1.Game();\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar player_1 = __webpack_require__(2);\n\tvar enemy_1 = __webpack_require__(4);\n\tvar scanline_1 = __webpack_require__(5);\n\tvar utils_1 = __webpack_require__(3);\n\tvar Game = (function () {\n\t    function Game() {\n\t        this.canvas = document.getElementById(\"canvas\");\n\t        this.ctx = this.canvas.getContext(\"2d\");\n\t        this.w = 800;\n\t        this.h = 480;\n\t        this.bgColor = \"#533B59\";\n\t        this.collisionOffset = 5;\n\t        this.layer = 6;\n\t        this.cells = 16;\n\t        this.players = new Array();\n\t        this.players[0] = new player_1.Player(0, this.ctx, this.layer, \"#F28963\", 0, this.w, this.h);\n\t        this.players[1] = new player_1.Player(1, this.ctx, this.layer, \"#F2D680\", 2, this.w, this.h);\n\t        this.enemies = new Array();\n\t        this.enemyIds = 0;\n\t        for (var i = 0; i < 10; i++) {\n\t            this.enemies.push(new enemy_1.Enemy(this.enemyIds++, this.ctx, this.layer, this.w, this.h));\n\t        }\n\t        this.scanline = new scanline_1.Scanline(this.ctx, this.w, this.h);\n\t        this.update = this.update.bind(this);\n\t        window.requestAnimationFrame(this.update);\n\t    }\n\t    Game.prototype.update = function () {\n\t        var _this = this;\n\t        this.scanline.update();\n\t        for (var i = 0; i < this.enemies.length; i++) {\n\t            this.enemies[i].update();\n\t            if (Math.abs(this.enemies[i].realPos - this.scanline.scanlinePos) < 2) {\n\t                this.enemies[i].alpha = 1;\n\t            }\n\t        }\n\t        for (var i = 0; i < this.players.length; i++) {\n\t            var _loop_1 = function(j) {\n\t                if (this_1.players[i].pos === this_1.enemies[j].layer) {\n\t                    if (Math.abs(this_1.players[i].axisPool[this_1.players[i].axis] - this_1.enemies[j].angle) < this_1.collisionOffset) {\n\t                        // console.log(\"hit: \" + enemies[j].id);\n\t                        this_1.players[i].score++;\n\t                        this_1.enemies = this_1.enemies.filter(function (e) { return e !== _this.enemies[j]; });\n\t                        this_1.enemies.push(new enemy_1.Enemy(this_1.enemyIds++, this_1.ctx, this_1.layer, this_1.w, this_1.h));\n\t                    }\n\t                }\n\t            };\n\t            var this_1 = this;\n\t            for (var j = 0; j < this.enemies.length; j++) {\n\t                _loop_1(j);\n\t            }\n\t        }\n\t        this.draw();\n\t        window.requestAnimationFrame(this.update);\n\t    };\n\t    Game.prototype.draw = function () {\n\t        this.ctx.fillStyle = this.bgColor;\n\t        this.ctx.fillRect(0, 0, this.w, this.h);\n\t        this.drawBoard();\n\t        this.scanline.render();\n\t        for (var i = 0; i < this.enemies.length; i++) {\n\t            this.enemies[i].render();\n\t        }\n\t        for (var i = 0; i < this.players.length; i++) {\n\t            this.players[i].render();\n\t        }\n\t        this.ctx.font = \"18px sans-serif\";\n\t        this.ctx.fillStyle = \"#F28963\";\n\t        this.ctx.fillText(this.players[0].score.toString(), 30, 40);\n\t        this.ctx.fillStyle = \"#F2D680\";\n\t        this.ctx.fillText(this.players[1].score.toString(), this.w - 40, 40);\n\t    };\n\t    Game.prototype.drawBoard = function () {\n\t        this.ctx.strokeStyle = \"#D95970\";\n\t        var minR = 50;\n\t        var scaleR = 30;\n\t        for (var i = 0; i < this.layer + 1; i++) {\n\t            this.ctx.beginPath();\n\t            this.ctx.arc(this.w / 2, this.h / 2, minR + scaleR * i, 0, Math.PI * 2);\n\t            this.ctx.stroke();\n\t        }\n\t        this.ctx.fillStyle = \"#D95970\";\n\t        this.ctx.beginPath();\n\t        this.ctx.arc(this.w / 2, this.h / 2, minR, 0, Math.PI * 2);\n\t        this.ctx.fill();\n\t        this.drawDebugLines();\n\t    };\n\t    Game.prototype.drawDebugLines = function () {\n\t        this.ctx.strokeStyle = \"#D95970\";\n\t        var slice = 360 / this.cells;\n\t        for (var i = 0; i < this.cells; i++) {\n\t            this.ctx.beginPath();\n\t            this.ctx.moveTo(this.w / 2, this.h / 2);\n\t            this.ctx.lineTo((Math.cos(utils_1.Utils.deg2rad(i * slice)) * 230) + this.w / 2, (Math.sin(utils_1.Utils.deg2rad(i * slice)) * 230) + this.h / 2);\n\t            this.ctx.stroke();\n\t        }\n\t    };\n\t    return Game;\n\t}());\n\texports.Game = Game;\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar utils_1 = __webpack_require__(3);\n\tvar Player = (function () {\n\t    function Player(id, ctx, layer, color, startAxis, gameWidth, gameHeigth) {\n\t        this.id = id;\n\t        this.ctx = ctx;\n\t        this.color = color;\n\t        this.pos = 0;\n\t        this.axis = startAxis;\n\t        this.axisPool = [0, 90, 180, 270];\n\t        this.maxPos = layer - 1;\n\t        this.minOffset = 64;\n\t        this.offset = 30;\n\t        this.size = 6;\n\t        this.width = 30;\n\t        this.height = 3;\n\t        this.score = 0;\n\t        this.gameWidth = gameWidth;\n\t        this.gameHeigth = gameHeigth;\n\t        this.handleInput = this.handleInput.bind(this);\n\t        document.addEventListener(\"keydown\", this.handleInput);\n\t    }\n\t    Player.prototype.handleInput = function (e) {\n\t        switch (this.id) {\n\t            case 0:\n\t                if (e.key === \"ArrowLeft\") {\n\t                    this.pos--;\n\t                    if (this.pos < 0) {\n\t                        this.pos = 0;\n\t                    }\n\t                }\n\t                if (e.key === \"ArrowRight\") {\n\t                    this.pos++;\n\t                    if (this.pos > this.maxPos) {\n\t                        this.pos = this.maxPos;\n\t                    }\n\t                }\n\t                if (e.key === \"ArrowUp\") {\n\t                    this.axis--;\n\t                    if (this.axis < 0) {\n\t                        this.axis = 3;\n\t                    }\n\t                }\n\t                if (e.key === \"ArrowDown\") {\n\t                    this.axis++;\n\t                    if (this.axis > 3) {\n\t                        this.axis = 0;\n\t                    }\n\t                }\n\t                break;\n\t            case 1:\n\t                if (e.key === \"a\") {\n\t                    this.pos--;\n\t                    if (this.pos < 0) {\n\t                        this.pos = 0;\n\t                    }\n\t                }\n\t                if (e.key === \"d\") {\n\t                    this.pos++;\n\t                    if (this.pos > this.maxPos) {\n\t                        this.pos = this.maxPos;\n\t                    }\n\t                }\n\t                if (e.key === \"w\") {\n\t                    this.axis--;\n\t                    if (this.axis < 0) {\n\t                        this.axis = 3;\n\t                    }\n\t                }\n\t                if (e.key === \"s\") {\n\t                    this.axis++;\n\t                    if (this.axis > 3) {\n\t                        this.axis = 0;\n\t                    }\n\t                }\n\t                break;\n\t        }\n\t    };\n\t    Player.prototype.update = function () {\n\t    };\n\t    Player.prototype.render = function () {\n\t        this.ctx.fillStyle = this.color;\n\t        if (Math.abs(Math.cos(utils_1.Utils.deg2rad(this.axisPool[this.axis]))) > 0.5) {\n\t            this.ctx.fillRect((Math.cos(utils_1.Utils.deg2rad(this.axisPool[this.axis])) * (1 + this.minOffset + this.offset * this.pos)) + this.gameWidth / 2 - this.width / 2, (Math.sin(utils_1.Utils.deg2rad(this.axisPool[this.axis])) * (this.minOffset + this.offset * this.pos)) + this.gameHeigth / 2 - this.height / 2, this.width, this.height);\n\t        }\n\t        else {\n\t            this.ctx.fillRect((Math.cos(utils_1.Utils.deg2rad(this.axisPool[this.axis])) * (1 + this.minOffset + this.offset * this.pos)) + this.gameWidth / 2 - this.height / 2, (Math.sin(utils_1.Utils.deg2rad(this.axisPool[this.axis])) * (this.minOffset + this.offset * this.pos)) + this.gameHeigth / 2 - this.width / 2, this.height, this.width);\n\t        }\n\t    };\n\t    return Player;\n\t}());\n\texports.Player = Player;\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\tvar Utils = (function () {\n\t    function Utils() {\n\t    }\n\t    Utils.deg2rad = function (deg) {\n\t        return deg * (Math.PI / 180);\n\t    };\n\t    Utils.getRandomInt = function (min, max) {\n\t        return Math.floor(Math.random() * (max - min + 1)) + min;\n\t    };\n\t    Utils.getRandomArbitrary = function (min, max) {\n\t        return Math.random() * (max - min) + min;\n\t    };\n\t    return Utils;\n\t}());\n\texports.Utils = Utils;\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar utils_1 = __webpack_require__(3);\n\tvar Enemy = (function () {\n\t    function Enemy(id, ctx, layer, width, height) {\n\t        this.id = id;\n\t        this.ctx = ctx;\n\t        this.layer = utils_1.Utils.getRandomInt(0, 5);\n\t        this.maxLayer = layer - 1;\n\t        this.angle = utils_1.Utils.getRandomArbitrary(0, 360);\n\t        this.minOffset = 64;\n\t        this.offset = 30;\n\t        this.size = 6;\n\t        this.speed = utils_1.Utils.getRandomArbitrary(1, 4);\n\t        this.realPos = this.minOffset + this.offset * this.layer;\n\t        this.alpha = 1;\n\t        this.fade = 0.006;\n\t        this.fadeDelay = this.speed * 2;\n\t        this.w = width;\n\t        this.h = height;\n\t    }\n\t    Enemy.prototype.update = function () {\n\t        this.angle += this.speed;\n\t        this.angle %= 360;\n\t        this.fadeDelay--;\n\t        if (this.fadeDelay < 0) {\n\t            this.alpha -= this.fade;\n\t            if (this.alpha < 0) {\n\t                this.alpha = 0;\n\t                this.fadeDelay = 5;\n\t            }\n\t        }\n\t    };\n\t    Enemy.prototype.render = function () {\n\t        this.ctx.fillStyle = \"rgba(217, 91, 91, \" + this.alpha + \")\";\n\t        this.ctx.beginPath();\n\t        this.ctx.arc((Math.cos(utils_1.Utils.deg2rad(this.angle)) * (this.minOffset + this.offset * this.layer)) + this.w / 2, (Math.sin(utils_1.Utils.deg2rad(this.angle)) * (this.minOffset + this.offset * this.layer)) + this.h / 2, this.size, 0, Math.PI * 2);\n\t        this.ctx.fill();\n\t    };\n\t    return Enemy;\n\t}());\n\texports.Enemy = Enemy;\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\tvar Scanline = (function () {\n\t    function Scanline(ctx, width, height) {\n\t        this.ctx = ctx;\n\t        this.scanlineStart = 30;\n\t        this.scanlineEnd = 240;\n\t        this.scanlinePos = this.scanlineStart;\n\t        this.scanlineSpeed = 1.5;\n\t        this.w = width;\n\t        this.h = height;\n\t    }\n\t    Scanline.prototype.update = function () {\n\t        this.scanlinePos += this.scanlineSpeed;\n\t        if (this.scanlinePos > this.scanlineEnd) {\n\t            this.scanlinePos = this.scanlineStart;\n\t        }\n\t    };\n\t    Scanline.prototype.render = function () {\n\t        this.ctx.strokeStyle = \"#D95970\";\n\t        this.ctx.lineWidth = 3;\n\t        this.ctx.beginPath();\n\t        this.ctx.arc(this.w / 2, this.h / 2, this.scanlinePos, 0, Math.PI * 2);\n\t        this.ctx.stroke();\n\t        this.ctx.lineWidth = 1;\n\t    };\n\t    return Scanline;\n\t}());\n\texports.Scanline = Scanline;\n\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** dist/game.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 2642b92cb81136a7c71a\n **/","import { Game } from './game';\n\nlet gameStart = new Game();\n\n\n/** WEBPACK FOOTER **\n ** ./src/intro.ts\n **/","import { Player } from \"./player\";\nimport { Enemy } from \"./enemy\";\nimport { Scanline } from \"./scanline\";\nimport { Utils } from \"./utils\";\n\nexport class Game {\n\n    // setup\n    canvas: HTMLCanvasElement;\n    ctx: CanvasRenderingContext2D;\n\n    // globals\n    w: number;\n    h: number;\n    bgColor: string;\n    collisionOffset: number;\n\n    // world map\n    layer: number;\n    cells: number;\n\n    players: Array<Player>;\n    enemies: Array<Enemy>;\n    enemyIds: number;\n\n    scanline: Scanline;\n\n    constructor() {\n        this.canvas = document.getElementById(\"canvas\") as HTMLCanvasElement;\n        this.ctx = this.canvas.getContext(\"2d\");\n\n        this.w = 800;\n        this.h = 480;\n        this.bgColor = \"#533B59\";\n        this.collisionOffset = 5;\n\n        this.layer = 6;\n        this.cells = 16;\n\n        this.players = new Array<Player>();\n        this.players[0] = new Player(0, this.ctx, this.layer, \"#F28963\", 0, this.w, this.h);\n        this.players[1] = new Player(1, this.ctx, this.layer, \"#F2D680\", 2, this.w, this.h);\n\n        this.enemies = new Array<Enemy>();\n        this.enemyIds = 0;\n        for (let i = 0; i < 10; i++) {\n            this.enemies.push(new Enemy(this.enemyIds++, this.ctx, this.layer, this.w, this.h));\n        }\n\n        this.scanline = new Scanline(this.ctx, this.w, this.h);\n\n        this.update = this.update.bind(this);\n        window.requestAnimationFrame(this.update);\n    }   \n\n    update() {\n        this.scanline.update();\n\n        for (let i = 0; i < this.enemies.length; i++) {\n            this.enemies[i].update();\n\n            if (Math.abs(this.enemies[i].realPos - this.scanline.scanlinePos) < 2) {\n                this.enemies[i].alpha = 1;\n            }\n        }\n\n        for (let i = 0; i < this.players.length; i++) {\n            for (let j = 0; j < this.enemies.length; j++) {\n                if (this.players[i].pos === this.enemies[j].layer) {\n                    if (Math.abs(this.players[i].axisPool[this.players[i].axis] - this.enemies[j].angle) < this.collisionOffset) {\n                        // console.log(\"hit: \" + enemies[j].id);\n                        this.players[i].score++;\n\n                        this.enemies = this.enemies.filter((e) => e !== this.enemies[j]);\n                        this.enemies.push(new Enemy(this.enemyIds++, this.ctx, this.layer, this.w, this.h));\n                    }\n                }\n            }\n        }\n\n        this.draw();\n        window.requestAnimationFrame(this.update);\n    }\n\n    draw() {\n        this.ctx.fillStyle = this.bgColor;\n        this.ctx.fillRect(0, 0, this.w, this.h);\n\n        this.drawBoard();\n\n        this.scanline.render();\n\n        for (let i = 0; i < this.enemies.length; i++) {\n            this.enemies[i].render();\n        }\n\n        for (let i = 0; i < this.players.length; i++) {\n            this.players[i].render();\n        }\n\n        this.ctx.font = \"18px sans-serif\";\n        this.ctx.fillStyle = \"#F28963\";\n        this.ctx.fillText(this.players[0].score.toString(), 30, 40);\n        this.ctx.fillStyle = \"#F2D680\";\n        this.ctx.fillText(this.players[1].score.toString(), this.w - 40, 40);\n    }\n\n    drawBoard() {\n        this.ctx.strokeStyle = \"#D95970\";\n        let minR = 50;\n        let scaleR = 30;\n\n        for (let i = 0; i < this.layer + 1; i++) {\n            this.ctx.beginPath();\n            this.ctx.arc(this.w/2, this.h/2, minR + scaleR * i, 0, Math.PI*2);\n            this.ctx.stroke();\n        }\n\n        this.ctx.fillStyle = \"#D95970\";\n        this.ctx.beginPath();\n        this.ctx.arc(this.w/2, this.h/2, minR, 0, Math.PI*2);\n        this.ctx.fill();\n\n        this.drawDebugLines();\n    }\n\n    drawDebugLines() {\n        this.ctx.strokeStyle = \"#D95970\";\n        let slice = 360 / this.cells;\n\n        for (let i = 0; i < this.cells; i++) {\n            this.ctx.beginPath();\n            this.ctx.moveTo(this.w/2, this.h/2);\n            this.ctx.lineTo((Math.cos(Utils.deg2rad(i * slice)) * 230) + this.w/2, (Math.sin(Utils.deg2rad(i * slice)) * 230) + this.h/2);\n            this.ctx.stroke();\n        }\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/game.ts\n **/","import { Utils } from \"./utils\";\n\nexport class Player {\n\n    id: number;\n    ctx: CanvasRenderingContext2D;\n    color: string;\n    pos: number;\n    axis: number;\n    axisPool: Array<number>;\n    maxPos: number;\n    minOffset: number;\n    offset: number;\n\n    size: number;\n\n    width: number;\n    height: number;\n\n    score: number;\n\n    gameWidth: number;\n    gameHeigth: number;\n\n    constructor(id: number, ctx: CanvasRenderingContext2D, layer: number, color: string, startAxis: number, gameWidth: number, gameHeigth: number) {\n        this.id = id;\n        this.ctx = ctx;\n        this.color = color;\n\n        this.pos = 0;\n        this.axis = startAxis;\n        this.axisPool = [0, 90, 180, 270];\n        this.maxPos = layer - 1;\n        this.minOffset = 64;\n        this.offset = 30;\n\n        this.size = 6;\n\n        this.width = 30;\n        this.height = 3;\n\n        this.score = 0;\n\n        this.gameWidth = gameWidth;\n        this.gameHeigth = gameHeigth;\n\n        this.handleInput = this.handleInput.bind(this);\n        document.addEventListener(\"keydown\", this.handleInput);\n    }\n\n    private handleInput(e: KeyboardEvent) : void {\n\n        switch (this.id) {\n            case 0:\n                if (e.key === \"ArrowLeft\") {\n                    this.pos--;\n                    if (this.pos < 0) {\n                        this.pos = 0;\n                    }\n                }\n                if (e.key === \"ArrowRight\") {\n                    this.pos++;\n                    if (this.pos > this.maxPos) {\n                        this.pos = this.maxPos;\n                    }\n                }\n                if (e.key === \"ArrowUp\") {\n                    this.axis--;\n                    if (this.axis < 0) {\n                        this.axis = 3;\n                    }\n                }\n                if (e.key === \"ArrowDown\") {\n                    this.axis++;\n                    if (this.axis > 3) {\n                        this.axis = 0;\n                    }\n                }\n                break;\n\n            case 1:\n                if (e.key === \"a\") {\n                    this.pos--;\n                    if (this.pos < 0) {\n                        this.pos = 0;\n                    }\n                }\n                if (e.key === \"d\") {\n                    this.pos++;\n                    if (this.pos > this.maxPos) {\n                        this.pos = this.maxPos;\n                    }\n                }\n                if (e.key === \"w\") {\n                    this.axis--;\n                    if (this.axis < 0) {\n                        this.axis = 3;\n                    }\n                }\n                if (e.key === \"s\") {\n                    this.axis++;\n                    if (this.axis > 3) {\n                        this.axis = 0;\n                    }\n                }\n                break;\n        }\n    }\n\n    update() : void {\n\n    }\n\n    render() : void {\n        this.ctx.fillStyle = this.color;\n\n        if (Math.abs(Math.cos(Utils.deg2rad(this.axisPool[this.axis]))) > 0.5) {\n            this.ctx.fillRect((Math.cos(Utils.deg2rad(this.axisPool[this.axis])) * (1 + this.minOffset + this.offset * this.pos)) + this.gameWidth/2 - this.width/2,\n                                (Math.sin(Utils.deg2rad(this.axisPool[this.axis])) * (this.minOffset + this.offset * this.pos)) + this.gameHeigth/2 - this.height/2, this.width, this.height);\n        } else {\n            this.ctx.fillRect((Math.cos(Utils.deg2rad(this.axisPool[this.axis])) * (1 + this.minOffset + this.offset * this.pos)) + this.gameWidth/2 - this.height/2,\n                                (Math.sin(Utils.deg2rad(this.axisPool[this.axis])) * (this.minOffset + this.offset * this.pos)) + this.gameHeigth/2 - this.width/2, this.height, this.width);\n        }\n    }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/player.ts\n **/","export class Utils {\n    static deg2rad(deg: number): number {\n        return deg * (Math.PI / 180);\n    }\n\n    static getRandomInt(min: number, max: number): number {\n        return Math.floor(Math.random() * (max - min + 1)) + min;\n    }\n\n    static getRandomArbitrary(min: number, max:number): number {\n        return Math.random() * (max - min) + min;\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils.ts\n **/","import { Utils } from \"./utils\";\n\nexport class Enemy {\n\n    id: number;\n    ctx: CanvasRenderingContext2D;\n\n    layer: number;\n    maxLayer: number;\n\n    angle: number;\n\n    minOffset: number;\n    offset: number;\n\n    size: number;\n\n    speed: number;\n\n    realPos: number;\n    alpha: number;\n    fade: number;\n    fadeDelay: number;\n\n    w: number;\n    h: number;\n\n    constructor(id: number, ctx: CanvasRenderingContext2D, layer: number, width: number, height: number) {\n        this.id = id;\n        this.ctx = ctx;\n\n        this.layer = Utils.getRandomInt(0, 5);\n        this.maxLayer = layer - 1;\n\n        this.angle = Utils.getRandomArbitrary(0, 360);\n\n        this.minOffset = 64;\n        this.offset = 30;\n\n        this.size = 6;\n\n        this.speed = Utils.getRandomArbitrary(1, 4);\n\n        this.realPos = this.minOffset + this.offset * this.layer;\n        this.alpha = 1;\n        this.fade = 0.006;\n        this.fadeDelay = this.speed * 2;\n\n        this.w = width;\n        this.h = height;\n    }\n\n    update(): void {\n        this.angle += this.speed;\n        this.angle %= 360;\n\n        this.fadeDelay--;\n        if (this.fadeDelay < 0) {\n            this.alpha -= this.fade;\n            if (this.alpha < 0) {\n                this.alpha = 0;\n                this.fadeDelay = 5;\n            }\n        }\n\n    }\n\n    render(): void {\n        this.ctx.fillStyle = `rgba(217, 91, 91, ${this.alpha})`;\n\n        this.ctx.beginPath();\n        this.ctx.arc((Math.cos(Utils.deg2rad(this.angle)) * (this.minOffset + this.offset * this.layer)) + this.w/2,\n                        (Math.sin(Utils.deg2rad(this.angle)) * (this.minOffset + this.offset * this.layer)) + this.h/2,\n                        this.size, 0, Math.PI*2);\n        this.ctx.fill();\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/enemy.ts\n **/","import { Utils } from \"./utils\";\n\nexport class Scanline {\n\n    ctx: CanvasRenderingContext2D;\n    scanlineStart: number;\n    scanlineEnd: number;\n\n    scanlinePos: number;\n    scanlineSpeed: number;\n\n    w: number;\n    h: number;\n\n    constructor(ctx: CanvasRenderingContext2D, width: number, height: number) {\n        this.ctx = ctx;\n        this.scanlineStart = 30;\n        this.scanlineEnd = 240;\n\n        this.scanlinePos = this.scanlineStart;\n        this.scanlineSpeed = 1.5;\n\n        this.w = width;\n        this.h = height;\n    }\n\n    update() {\n        this.scanlinePos += this.scanlineSpeed;\n        if (this.scanlinePos > this.scanlineEnd) {\n            this.scanlinePos = this.scanlineStart;\n        }\n    }\n\n    render() {\n        this.ctx.strokeStyle = \"#D95970\";\n        this.ctx.lineWidth = 3;\n        this.ctx.beginPath();\n        this.ctx.arc(this.w/2, this.h/2, this.scanlinePos, 0, Math.PI*2);\n        this.ctx.stroke();\n        this.ctx.lineWidth = 1;\n    }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/scanline.ts\n **/"],"sourceRoot":""}